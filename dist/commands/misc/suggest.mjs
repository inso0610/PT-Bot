/* Optimized production build generated by CommandKit */
import {
  __commonJS,
  __require,
  init_esm_shims
} from "../../chunk-KSB4BMFD.mjs";

// src/commands/misc/suggest.js
var require_suggest = __commonJS({
  "src/commands/misc/suggest.js"(exports, module) {
    init_esm_shims();
    var { SlashCommandBuilder, EmbedBuilder } = __require("discord.js");
    module.exports = {
      data: new SlashCommandBuilder().setName("suggest").setDescription("Sends a suggestion").addStringOption((option) => option.setName("suggestion").setDescription("What is the suggestions?").setRequired(true)).addStringOption((option) => option.setName("suggestion-title").setDescription("What is the suggestion title?").setRequired(true)),
      run: async ({ interaction, client, handler }) => {
        try {
          const suggestion = interaction.options.getString("suggestion");
          let suggestionTitle = interaction.options.getString("suggestion-title");
          const suggestionChannel = client.channels.cache.get("1152944134747865119");
          const avatarURL = "https://cdn.discordapp.com/avatars/" + interaction.user.id + "/" + interaction.user.avatar + ".jpeg";
          const suggestionEmbed = new EmbedBuilder().setAuthor({
            name: interaction.user.tag,
            iconURL: avatarURL
            //url: 'https://discord.js.org'
          }).setTitle(suggestionTitle).setDescription(suggestion);
          const suggestionMessage = await suggestionChannel.send({ embeds: [suggestionEmbed] });
          suggestionMessage.react("\u{1F44D}").then(() => suggestionMessage.react("\u{1F44E}"));
          if (suggestionTitle.length >= 60) {
            suggestionTitle = "Suggestion name too long to be used in thread";
          }
          const thread = await suggestionMessage.startThread({
            name: suggestionTitle,
            autoArchiveDuration: 60,
            reason: "Suggestion Thread."
          });
          interaction.reply({
            content: "There! Check <#1152944134747865119>",
            ephemeral: true
          });
        } catch (error) {
          console.log(`Error with suggestion command! ${error}`);
          interaction.reply({
            content: "Command failure. Try again.",
            ephemeral: true
          });
        }
      },
      options: {
        devOnly: false,
        guildOnly: false,
        userPermissions: ["Administrator"],
        botPermissions: ["Administrator"],
        deleted: false
      }
    };
  }
});
export default require_suggest();
