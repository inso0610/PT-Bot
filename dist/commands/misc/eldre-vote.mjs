/* Optimized production build generated by CommandKit */
import {
  init_esm_shims
} from "../../chunk-YVAUBM4S.mjs";
import {
  __commonJS,
  __require
} from "../../chunk-JS3VUUZD.mjs";

// src/commands/misc/eldre-vote.js
var require_eldre_vote = __commonJS({
  "src/commands/misc/eldre-vote.js"(exports, module) {
    init_esm_shims();
    var { SlashCommandBuilder, EmbedBuilder } = __require("discord.js");
    module.exports = {
      data: new SlashCommandBuilder().setName("eldre-vote").setDescription("Sends a vote").addStringOption((option) => option.setName("vote").setDescription("What is the vote?").setRequired(true)).addStringOption((option) => option.setName("vote-title").setDescription("What is the vote title?").setRequired(true)),
      run: async ({ interaction, client, handler }) => {
        try {
          const vote = interaction.options.getString("vote");
          const voteTitle = interaction.options.getString("vote-title");
          const voteChannel = client.channels.cache.get("1149845361914040412");
          const avatarURL = "https://cdn.discordapp.com/avatars/" + interaction.user.id + "/" + interaction.user.avatar + ".jpeg";
          const voteEmbed = new EmbedBuilder().setAuthor({
            name: interaction.user.tag,
            iconURL: avatarURL
            //url: 'https://discord.js.org'
          }).setTitle(voteTitle).setDescription(vote);
          const voteMessage = await voteChannel.send({
            content: "<@&1150903460565369012>",
            embeds: [voteEmbed]
          });
          voteMessage.react("\u2705").then(() => voteMessage.react("\u274C"));
          const thread = await voteMessage.startThread({
            name: voteTitle,
            autoArchiveDuration: 60,
            reason: "Vote Thread."
          });
          interaction.reply({
            content: "There! Check <#1149845361914040412>",
            ephemeral: true
          });
        } catch (error) {
          console.log(`Error with vote command! ${error}`);
          interaction.reply({
            content: "Command failure. Try again.",
            ephemeral: true
          });
        }
      },
      eldreOnly: true,
      options: {
        devOnly: false,
        guildOnly: false,
        userPermissions: [],
        botPermissions: ["Administrator"],
        deleted: true
      }
    };
  }
});
export default require_eldre_vote();
